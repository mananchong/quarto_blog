{
  "hash": "c360627f0fc536821e1df0d0b47cee76",
  "result": {
    "markdown": "---\ntitle: \"Line chart: Cigerate consumption\"\ndate: \"2022-08-16\"\ncategories:\n  - baseR\n  - code\n---\n\n\nfrom [basegraphics](https://poisonalien.github.io/basegraphics/baseplots.html)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# download.file(url = \"https://raw.githubusercontent.com/PoisonAlien/basegraphics/main/data/05-linechart_CigConsumption.csv\", destfile = \"posts/2022-08-16_line-chart-cigerate-consumption/05-linechart_CigConsumption.csv\")\ndata <- read.table(\n    \"05-linechart_CigConsumption.csv\",\n    sep = \",\",\n    header = TRUE\n)\ndata[data == \"null\"] <- NA\ndata <- apply(data, 2, as.numeric)\ndata <- as.data.frame(data)\nrownames(data) <- data$country\n\nmax_count <- max(\n    data[, 2:ncol(data)],\n    na.rm = TRUE\n)\n\ntitle_main <- \"The rise and fall of cigarette consumption in developed countries\"\ntitle_sub <- \"Sales of cigarettes per adult per day, in selected countries.\\nFigures include manufactured cigarettes, as well as an estimated\\nnumber of hand-rolled cigarettes,per adult (ages 15+) per day.\"\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlayout(\n    mat = matrix(data = c(1:2), nrow = 2),\n    heights = c(2, 6)\n)\n\npar(mar = c(0, 0, 0, 0))\nplot(\n    NA,\n    xlim = c(0, 1),\n    ylim = c(0, 1),\n    frame.plot = FALSE,\n    axes = FALSE,\n    xlab = NA,\n    ylab = NA\n)\ntext(\n    x = 0,\n    y = 0.8,\n    labels = title_main,\n    cex = 1,\n    font = 2,\n    adj = 0\n)\ntext(\n    x = 0,\n    y = 0.35,\n    labels = title_sub,\n    cex = 1,\n    font = 3,\n    adj = 0\n)\n\npar(\n    mar = c(3, 2, 0, 1)\n)\nplot(\n    NA,\n    xlim = range(data$country),\n    ylim = c(0, max_count),\n    xlab = NA,\n    ylab = NA,\n    frame.plot = FALSE,\n    axes = FALSE\n)\naxis(\n    side = 2,\n    at = seq(0, 12, 2),\n    labels = seq(0, 12, 2),\n    line = 0,\n    col.axis = \"gray\",\n    cex.axis = 1,\n    las = 2,\n    tick = FALSE\n)\nabline(\n    h = seq(0, 12, 2),\n    lwd = 1,\n    col = \"gray90\"\n)\n\ntext(\n    x = data$country[1],\n    y = 10,\n    labels = \"Sold cigarettes\\nper day per adult\",\n    cex = 0.7,\n    xpd = TRUE,\n    adj = 0\n)\n\nfor (i in 2:ncol(data)) {\n    points(\n        x = data$country,\n        y = data[, i],\n        pch = \"\",\n        type = \"l\",\n        col = \"#7f8c8d\"\n    )\n}\n\nhghlt <- c(\"United.States\", \"Germany\", \"France\")\nhghlt_cols <- c(\"#c0392b\", \"#16a085\", \"#2980b9\")\nfor (hghlt_idx in seq_along(hghlt)) {\n    hghlt_col_idx <- which(colnames(data) == hghlt[hghlt_idx])\n    points(\n        x = data$country,\n        y = data[, hghlt_col_idx],\n        pch = \"\",\n        type = \"l\",\n        col = hghlt_cols[hghlt_idx],\n        lwd = 2\n    )\n}\n\ntext(\n    x = data$country[1],\n    y = c(6:4),\n    labels = hghlt,\n    col = hghlt_cols,\n    adj = 0\n)\n\naxis(\n    side = 1,\n    at = pretty(data$country),\n    labels = pretty(data$country),\n    line = 0,\n    tick = TRUE,\n    col.axis = \"#7f8c8d\",\n    col = \"#7f8c8d\"\n)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/plot-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}